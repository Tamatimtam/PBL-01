<!DOCTYPE html>
<html>
<head>
    <title>Classify</title>
    <link rel="preload" as="style" href="style_in.css">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='loggedIn.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@500&display=swap" rel="stylesheet">
    <meta name="view-transition" content="same-origin"/>
</head>
<body>
<div class="main">  
    <a href="#" class="back-button" id="backButton">&larr; Back</a>
        <input type="checkbox" id="chk" aria-hidden="true">
    <div class="signup">
        <form class="login-form" action="/login" method="POST">
            <label for="chk" aria-hidden="true">Logged in!</label>

            <input type="text" name="txt" placeholder="User name" required="">
            <input type="password" name="pswd" placeholder="Password" required="">
            <select name="userType" required>
                <option value="pengguna">User</option>
                <option value="administrator">Administrator</option>
            </select>
            <button type="submit">Masuk</button>
        </form>
    </div>
    
    <div class="welcome">
        <form>
            <label style="text-align: center; margin-bottom: 10px;" for="chk" aria-hidden="true">Welcome Admin {{ name }}!</label>
            <a href="lamp" class="menu-button">Control Lampu üí°</a>
            <a href="ac" class="menu-button">Control AC ‚ùÑÔ∏è</a>
            <a href="register" class="menu-button">Register User Baru</a>
            <button id="toggle-class-session" class="menu-button" style="font-size: 17px;">
                {% if state %}
                    Class is in session!
                {% else %}
                    Class is not in session.
                {% endif %}
            </button>
            <a href="{{ url_for('logout') }}" class="menu-button">Logout</a>

        </form>
    </div>
</div>
</body>

<script>
   document.getElementById('toggle-class-session').addEventListener('click', function(event) {
    event.preventDefault();
    fetch('/manage_session')
        .then(() => {
            // Reload the page after the fetch is complete
            location.reload();
        });
});

// Add this script to handle the back button click
document.getElementById('backButton').addEventListener('click', function(event) {
    event.preventDefault();
    history.back(); // Go back to the previous page in the browser history
});

</script>

</html>
